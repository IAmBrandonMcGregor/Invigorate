<!doctype html>
<!--[if lt IE 7]>      <html class="lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>InvigorateJS</title>

    <!-- Meta tag to normalize desktop & mobile viewport behavior. -->
    <meta name="viewport" content="width=device-width, user-scalable=no,maximum-scale=1,initial-scale=1">

    <!-- Include Threadit.js -->
    <script src="threadit.js"></script>

    <!-- Include Invigorate.js -->
    <script src="Invigorate.js"></script>

</head>

<style>
    #my-invigorate-wrapper {
        width: 200%;
        text-align: center;
    }
    #move-me-one {
        background-color: green;
        display: inline-block;
    }
    #move-me-two {
        background-color: blue;
        display: inline-block;
    }
    #wrapper {
        width: 100%;
        overflow: auto;
    }
</style>

<body>
    <h1>InvigorateJS</h1>
    <div id="wrapper">
        <section id="my-invigorate-wrapper">
            <span id="move-me-one">Move Me One</span>
            <span id="move-me-two">Move Me Two</span>
        </section>
    </div>
</body>

<script>


    var myInvigorate = new Invigorate({
        theater: document.getElementById('wrapper'), //optional -- attaches scroll listener.
        setPieces: [
            {
                element: document.getElementById('move-me-one'), //optional -- auto-animates.
                keyframes: {
                    0: { height: 50, opacity: 1 },
                    99: { opacity: 0.1},
                    300: { height: 200, opacity: 0.1 },
                    500: { opacity: 1 }
                }
            },
            {
                element: document.getElementById('move-me-two'),
                keyframes: {
                    0: { height: 200 },
                    500: { height: 50 }
                }
            }
        ],
        numberOfFrames: 500, //optional -- defaults to 100.
        devMode: true //optional -- provides additional console and UI info.
    });

    myInvigorate.promise.then(function (result) {
        console.log('Promise worked!');
        console.log(result);
        console.log(myInvigorate);
    });

    // // This would return an object containing functions and a collection of
    // // setPieces that have frame collections.
    // myInvigorateObject.reinvigorate();
    // myInvigorateObject.setPieces;

</script>

</html>
